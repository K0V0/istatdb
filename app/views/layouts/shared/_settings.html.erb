<%
	allow = (only_admin == true && current_user.is_admin) || (only_admin == false)
%>

<section class="decorated_wrap shrinked change_on_smallscreen">

	<table class="for_nontabular <%= allow == false ? 'no_results' : '' %>">

		<caption> 
			<%= t("settings.general.#{section.to_s}.section_window_title") %>
		</caption>

		<tbody>

			<% if !allow %>

				<tr class="no_results">
					<td colspan="10"> <h4> <%= t 'settings.only_admin' %> </h4> </td>
				</tr>

			<% else %>

				<% settings.each do |setting_name, options| %>

					<tr>
						<td>
							<label for="settings_<%= setting_name %>">
								<%= t("settings.general.#{section}.#{setting_name}") %>
							</label>
						</td>

						<%= render(
							"layouts/shared/settings/#{options[:type].to_s}",
							name: "#{section.to_s}_#{setting_name.to_s}",
							options: options,
							only_admin: only_admin
						) %>
					</tr>

				<% end %>

			<% end %>

		</tbody>

	</table>

</section>