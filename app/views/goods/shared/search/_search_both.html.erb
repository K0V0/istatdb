<% has_search_both = params.deep_has_key? :q, :search_both %>

<div class="search_checkbox_wrap">
	<span>
		<%= params[:q].try(:has_key, "search_both") %>
		<%= obj.label(
			:description_cont,
			class: has_search_both ? "" : "disabled"
		) %>
	</span>
	<span class="searchform_inputfield_wrap">
		<%= obj.search_field(
			:description_cont,
		 	autocomplete: "off",
		 	disabled: !has_search_both
		) %>
	</span>
	<span>
		<%= check_box_tag(
			'q[search_both]',
			1,
			has_search_both,
			class: "big"
		) %>
	</span>
</div>