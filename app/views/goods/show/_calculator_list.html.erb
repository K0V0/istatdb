
<% if !@MEM.uomscalc.nil? && !@MEM.uomscalc.blank? %>

	<section class="decorated_wrap shrinked items_table change_on_smallscreen">

		<table class="rows_colored with_efects with_controls" id="uomscalc_list">

			<caption>
				<%= t 'goods.calc_mem_list.cap' %>
			</caption>

			<thead>
				<tr>
					<th class="uomscalc_mem_good">
						<%= t 'goods.calc_mem_list.name' %>
					</th>
					<th class="uomscalc_mem_uom">
						<%= t 'goods.calc_mem_list.uom' %>
					</th>
					<th class="uomscalc_mem_count">
						<%= t 'goods.calc_mem_list.count' %>
					</th>
					<th class="uomscalc_mem_result">
						<%= t 'goods.calc_mem_list.result_per_item' %>
					</th>
				</tr>
			</thead>

			<tbody>

				<% @MEM.uomscalc.each do |calc| %>
					<tr>
						<td class="uomscalc_mem_good">
							<%= link_to calc[:good_name], good_path(calc[:good_id]) %>
						</td>
						<td class="uomscalc_mem_uom">
							<%= "#{calc[:uom]} #{calc[:uom_type]} / #{calc[:multiplier]} #{t('goods.calc_mem_list.uom_suffix')}" %>
						</td>
						<td class="uomscalc_mem_count">
							<%= "#{num_pretty(calc[:count])} #{t('goods.calc_mem_list.uom_suffix')}" %>
						</td>
						<td class="uomscalc_mem_result">
							<%= "#{num_pretty(calc[:result].to_f.round(4))} #{calc[:uom_type]}" %>
						</td>
						<td class="uomscalc_mem_edit">
							<%= link_to "&#9998;".html_safe, calculator_edit_path(calc[:id]), method: :post, remote: true %>
						</td>
						<td class="uomscalc_mem_delete">
							<%= link_to "&#x2716;".html_safe, calculator_remove_path(calc[:id]), method: :post, remote: :true %>
						</td>
					</tr>
				<% end %>

			</tbody>

			<tfoot>
				<% @MEM.uomscalc_results.each do |k, v| %>
					<tr>
						<td> <%= "#{k}: " %> <strong> <%= "#{num_pretty(v.to_f.round(2))}" %> </strong> </td>
					</tr>
				<% end %>
				<tr>
					<td colspan="10">
						<button id="clear_uomscalc_list" class="button">
							<%= t ('goods.calc_mem_list.clear_all') %>
						</button>
					</td>
				</tr>
			</tfoot>

		</table>

	</section>

<% end %>
