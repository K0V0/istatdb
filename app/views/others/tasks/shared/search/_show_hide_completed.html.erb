
<% def_val = params.deep_has_key?(:q, :done_filter) ? params[:q][:done_filter] : nil %>

<div>

    <span>
        <%= obj.label :done_filter %>
    </span>

    <span>
        <%= obj.select(
            :done_filter,
            options_for_select(
                [
                    [t(:is_true), 1],
                    [t(:is_false), 0], 
                    [t('tasks.show_completed_only'), 2]
                ],
                def_val
            )
        ) %>
    </span>

</div>
