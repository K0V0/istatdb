@import "variables";

section.search_bar {

	flex: 0 1 auto;

	form {
		background-color: #bbb;
		padding: 0.25em;

		& > div {

			&::after {
				content: '';
				clear: both;
				display: table;
			}

			& > div { 
				float:left;
				max-width: 100%;
				height:100%;
				vertical-align: middle;
				padding: 0.125em 0;
				padding-right:0.375em;
				box-sizing: border-box;
				overflow: hidden;
				position: relative;

				&.searchform_actions {
					margin:0;
					padding:0;
				}

				& > span {
					display: inline-block;
					vertical-align: middle;
					overflow: hidden;
					padding: 0 0.125em;
					max-width:100%;

					input[type=text], input[type=search] {
						min-width: 14em;
					}

					input[type=checkbox] {
						width:1em;
						height:1em;
						margin: 0.3125em 0;
					}
				}
			}

			&.searchform_fulscreen_fields {
				@include menu_open_smallscreen_transitions();
				max-height:960px;
			}
		}
	}
}

@media only screen and (max-width: 480px) {

	section.search_bar {

		form {

			& > div {

				& > div {
					width: 100%;
					padding-right:0;

					& > span {
						float:left;
						box-sizing:border-box;

						input[type=text], input[type=search] {
							min-width: 8em;
							width: 100%;
						}

						&.searchform_inputfield_wrap {
							display: block;
							float:none;
						}
					}
				}

				&.searchform_main_fields {

					& > div:last-child {

						span.searchform_inputfield_wrap {
							padding-right:2em;
						}

						label#show_searchpanel_opts {
							line-height: normal;
							position: absolute;
							bottom: 0;
							right: 0;
							display: block;
						}
					}
				}

				&.searchform_fulscreen_fields {
					overflow: hidden;
				}
			}
		}
	}

	input#show_searchpanel_opts:checked ~ main > section.search_bar > form > div.searchform_fulscreen_fields {
		max-height: 0;
	}
}

